!function(e){var o={};function n(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=o,n.d=function(e,o,t){n.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:t})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(o,"a",o),o},n.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},n.p="",n(n.s="./public/live-common/live-common.ts")}({"./public/live-common/footer/footer.scss":function(e,o){},"./public/live-common/header/header.scss":function(e,o){},"./public/live-common/live-common.scss":function(e,o){},"./public/live-common/live-common.ts":function(e,o,n){"use strict";n.r(o);n("./public/live-common/live-common.scss"),n("./public/live-common/header/header.scss");var t={getItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||""},setItem:function(e,o,n,t,r,c){if(!e||/^(?:expires|max-age|path|domain|secure)$/i.test(e))return!1;var s="";if(n)switch(n.constructor){case Number:s=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:s="; expires="+n;break;case Date:s="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(o)+s+(r?"; domain="+r:"")+(t?"; path="+t:"")+(c?"; secure":""),!0},removeItem:function(e,o,n){return!(!e||!this.hasItem(e))&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(o?"; path="+o:""),!0)},hasItem:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^=]+)(?=;|$)|^\s*|\s*(?:=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:=[^;]*)?;\s*/),o=0;o<e.length;o++)e[o]=decodeURIComponent(e[o]);return e}};var r={domain:"gtarcade.com",trd_login:"https://user.gtarcade.com",passport_url:"https://user.gtarcade.com",payment_url:"//user.gtarcade.com",resource_url:"https://static.gtarcade.com"};var c=$(".lc__input-email"),s=$("#header_login_email_error"),i=$(".lc__input-password"),a=$("#header_login_password_error"),l=$(".lc__login-verify-code-input"),u=$(".lc__login-verify-code"),d=$("#headerLogBtn"),p=$("#headerRememberMe"),m=$('<div class="remote-error-msg lc__login_wrong_tip"></div>'),f=$(".lc__login-verify-code-img"),h={get username(){return c.val()},get password(){return i.val()},get code(){return l.val()},get keep_login(){return p.is(":checked")?1:0},from:"headerLogin"};function _(e,o,n){return function(e,o){var n={email:function(e){return/(^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$)/.test(e)},password:function(e){return e.length>=6}};return!!n[e]&&n[e](o)}(n,e.val())?(o.hide(),""):(o.show(),o.text())}function g(){var e=c.val();if(!e)return!1;$.ajax({type:"GET",url:r.passport_url+"/site/ShowLoginVerifyCode",data:"username="+e,dataType:"jsonp",async:!0,cache:!1,jsonp:"callback",success:function(e){1===e.status?(b(),u.show()):u.hide()}})}function v(){_(c,s,"email")||_(i,a,"password")||$.ajax({type:"post",url:"https://www.gtarcade.com/site/ulogin",data:h,dataType:"json",xhrFields:{withCredentials:!0},success:function(e){e.status?window.location.reload():(e.errors.username&&(m.html("X&nbsp;&nbsp;"+e.errors.username),m.insertAfter(c)),e.errors.password&&(m.html("X&nbsp;&nbsp;"+e.errors.password),m.insertAfter(i)),e.errors.code&&(m.html("â–²&nbsp;&nbsp;"+e.errors.code),m.insertAfter(f)),m.show(),g())}})}function w(e){13===e.keyCode&&v()}c.on("blur",function(){g(),m.hide(),_(c,s,"email")}),i.on("blur",function(){m.hide(),_(i,a,"password")}),l.on("blur",function(){m.hide()}),i.keyup(w),c.keyup(w),l.keyup(w),d.click(v);f.attr("src");function b(){$.ajax({type:"GET",url:r.passport_url+"/site/captcha/refresh/1",dataType:"jsonp",cache:!1,jsonp:"callback",success:function(e){f.attr("src",r.passport_url+e.url)}})}f.click(b);var k=function(){var e=window,o=$("#lang-change"),n=$(".lc__nav-language"),c=$(".lc__login-box"),s=$("#lc__login");if(!n.length)return!1;var i=$(".lc__has-login-box"),a=$(".lc__login-box"),l=$(".lc__user-name"),u=t.getItem("uuzu_UNICKNAME").toLocaleUpperCase();l.text(u),u?i.show():a.css({display:"inline-block"}),$(".lc__logout").click(function(){t.removeItem("uuzu_UNICKNAME",void 0,r.domain),t.removeItem("uuzu_UAUTH",void 0,r.domain),t.removeItem("show_email_tips",void 0,"."+r.domain),window.location.reload()}),c.hover(function(){if($(this).hasClass("lc__float-login"))return!1;s.show().addClass("css3-bounceIn")},function(){if($(this).hasClass("lc__float-login"))return!1;s.hide().removeClass("css3-bounceIn")}),n.hover(function(){o.show().addClass("css3-bounceIn")},function(){o.hide().removeClass("css3-bounceIn")}),$("#lang-change li a").each(function(){$(this).click(function(){$.ajax({url:"https://www.gtarcade.com/site/GtaLang?lang="+$(this).data("lang"),type:"GET",dataType:"jsonp",jsonp:"callback",success:function(e){window.location.reload()}})})}),$(".lc__list a").each(function(){$(this).click(function(){!function(e){void 0===e&&(e="");var o=(window.screen.availHeight-10-500)/2,n=(window.screen.availWidth-30-700)/2,t=window.open(r.trd_login+"/openidNew/connect/plat/pt_en/name/"+e+"/callbackUrl/"+r.domain,"_blank","height=500,width=700,top="+o+",left="+n),c=setInterval(function(e){return function(){e.closed&&(window.location.reload(),clearInterval(c))}}(t),1e3)}($(this).data("type"))})}),e.lc__openLoginLayer=function(){c.addClass("lc__float-login")},$(".lc_float-login-close").click(function(){c.removeClass("lc__float-login")})};n("./public/live-common/footer/footer.scss");k()}});